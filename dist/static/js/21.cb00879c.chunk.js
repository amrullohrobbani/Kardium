(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{982:function(e,t,a){"use strict";a.r(t);var n=a(239),r=a(240),d=a(243),l=a(241),i=a(242),o=a(2),c=a.n(o),s=a(734),m=a(735),h=a(736),u=a(775),p=a(737),E=a(776),g=a(740),I=a(763),f=a(964),y=a(244),x=a(99),k=a(43),b=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(d.a)(this,Object(l.a)(t).call(this,e))).handleChange=function(e){e.preventDefault(),a.props.handleLeadsStorage(e.target.value)},a.handleSubmit=function(e){e.preventDefault();var t=a.props.patient.find(function(e){return e.id.toString()===a.props.match.params.id}).pinned,n=a.props.patient.find(function(e){return e.id.toString()===a.props.match.params.id}).id;!0===t?a.setState({pinned:!1,id:n},function(){this.props.pinnedStatus(this.state)}):a.setState({pinned:!0,id:n},function(){this.props.pinnedStatus(this.state)})},a.state={pinned:null,id:""},a}return Object(i.a)(t,e),Object(r.a)(t,[{key:"componentWillUnmount",value:function(){this.props.onUnload()}},{key:"updateBrush",value:function(e){var t=this;0!==this.state.timerId&&clearTimeout(this.timerId),this.state.timerId=setTimeout(function(){t.setState({startIndex:e.startIndex,endIndex:e.endIndex})},1e5)}},{key:"render",value:function(){var e=this,t=this.props,a=(t.leads,t.patient);if(!a)return c.a.createElement(o.Suspense,{fallback:c.a.createElement("div",null,"Loading...")});var n=a.find(function(t){return t.id.toString()===e.props.match.params.id});return c.a.createElement("div",{className:"animated fadeIn"},c.a.createElement(s.a,null,c.a.createElement(m.a,{lg:6},c.a.createElement(h.a,null,c.a.createElement(u.a,null,c.a.createElement("strong",null,c.a.createElement("i",{className:"icon-info pr-1"}),"User id: ",this.props.match.params.id)),c.a.createElement(p.a,null,c.a.createElement(E.a,{responsive:!0,striped:!0,hover:!0},c.a.createElement("tbody",null,c.a.createElement("tr",null,c.a.createElement("td",null,"E - Mail"),c.a.createElement("td",null,c.a.createElement("strong",null,n.email))),c.a.createElement("tr",null,c.a.createElement("td",null,"Name"),c.a.createElement("td",null,c.a.createElement("strong",null,n.firstName," ",n.lastName))),c.a.createElement("tr",null,c.a.createElement("td",null," Status "),c.a.createElement("td",null," ",!0===n.pinned?c.a.createElement(m.a,null,c.a.createElement(g.a,{block:!0,color:"ghost-success",onClick:this.handleSubmit},"Pinned")):c.a.createElement(m.a,null,c.a.createElement(g.a,{block:!0,color:"ghost-danger",onClick:this.handleSubmit},"Unpinned"))," ")),c.a.createElement("tr",null,c.a.createElement("td",null," Waktu Penggunaan "),c.a.createElement("td",null,c.a.createElement(m.a,{xs:"12",md:"9"},c.a.createElement(I.a,{type:"select",name:"select",id:"select",onChange:this.handleChange},c.a.createElement("option",{value:"null"},"please select"),n.records.map(function(e,t){return c.a.createElement("option",{key:t.toString(),value:e.toString()},e)}))))))))))),c.a.createElement(s.a,null,c.a.createElement(m.a,null,c.a.createElement(h.a,null,c.a.createElement(u.a,null,c.a.createElement("strong",null,c.a.createElement("i",{className:"icon-info pr-1"})," ECG Result")),c.a.createElement(p.a,null,c.a.createElement(f.d,{width:1e3,height:250,data:this.props.leads,margin:{top:5,right:30,left:20,bottom:5}},c.a.createElement(f.f,{dataKey:"Time"}),c.a.createElement(f.e,null),c.a.createElement(f.g,{domain:["dataMin","dataMax"]}),c.a.createElement(f.b,null),c.a.createElement(f.a,{dataKey:"I",height:30,stroke:"#8884d8",onChange:function(t){return e.updateBrush(t)},startIndex:this.state.startIndex,endIndex:this.state.endIndex,tick:!0},c.a.createElement(f.d,{data:this.props.leads},c.a.createElement(f.g,{domain:["dataMin","dataMax"]}),c.a.createElement(f.c,{type:"monotone",dataKey:"I",dot:!1}))),c.a.createElement(f.c,{type:"monotone",dataKey:"I",dot:!1})),c.a.createElement(f.d,{width:1e3,height:250,data:this.props.leads,margin:{top:5,right:30,left:20,bottom:5}},c.a.createElement(f.f,{dataKey:"Time"}),c.a.createElement(f.e,null),c.a.createElement(f.g,{domain:["dataMin","dataMax"]}),c.a.createElement(f.b,null),c.a.createElement(f.a,{dataKey:"I",height:30,stroke:"#8884d8",onChange:function(t){return e.updateBrush(t)},startIndex:this.state.startIndex,endIndex:this.state.endIndex,tick:!0},c.a.createElement(f.d,{data:this.props.leads},c.a.createElement(f.c,{type:"monotone",dataKey:"II",dot:!1}),c.a.createElement(f.g,{domain:["dataMin","dataMax"]}))),c.a.createElement(f.c,{type:"monotone",dataKey:"II",stroke:"#8884d8",dot:!1})),c.a.createElement(f.d,{width:1e3,height:250,data:this.props.leads,margin:{top:5,right:30,left:20,bottom:5}},c.a.createElement(f.f,{dataKey:"Time"}),c.a.createElement(f.e,null),c.a.createElement(f.g,{domain:["dataMin","dataMax"]}),c.a.createElement(f.b,null),c.a.createElement(f.a,{dataKey:"I",height:30,stroke:"#8884d8",onChange:function(t){return e.updateBrush(t)},startIndex:this.state.startIndex,endIndex:this.state.endIndex,tick:!0},c.a.createElement(f.d,{data:this.props.leads},c.a.createElement(f.c,{type:"monotone",dataKey:"III",dot:!1}))),c.a.createElement(f.c,{type:"monotone",dataKey:"III",stroke:"#8884d8",dot:!1})),c.a.createElement(f.d,{width:1e3,height:250,data:this.props.leads,margin:{top:5,right:30,left:20,bottom:5}},c.a.createElement(f.f,{dataKey:"Time"}),c.a.createElement(f.e,null),c.a.createElement(f.g,{domain:["dataMin","dataMax"]}),c.a.createElement(f.b,null),c.a.createElement(f.a,{dataKey:"I",height:30,stroke:"#8884d8",onChange:function(t){return e.updateBrush(t)},startIndex:this.state.startIndex,endIndex:this.state.endIndex,tick:!0},c.a.createElement(f.d,{data:this.props.leads},c.a.createElement(f.c,{type:"monotone",dataKey:"aVF",dot:!1}),c.a.createElement(f.g,{domain:["dataMin","dataMax"]}))),c.a.createElement(f.c,{type:"monotone",dataKey:"aVF",stroke:"#8884d8",dot:!1})),c.a.createElement(f.d,{width:1e3,height:250,data:this.props.leads,margin:{top:5,right:30,left:20,bottom:5}},c.a.createElement(f.f,{dataKey:"Time"}),c.a.createElement(f.e,null),c.a.createElement(f.g,{domain:["dataMin","dataMax"]}),c.a.createElement(f.b,null),c.a.createElement(f.a,{dataKey:"I",height:30,stroke:"#8884d8",onChange:function(t){return e.updateBrush(t)},startIndex:this.state.startIndex,endIndex:this.state.endIndex,tick:!0},c.a.createElement(f.d,{data:this.props.leads},c.a.createElement(f.c,{type:"monotone",dataKey:"aVL",dot:!1}),c.a.createElement(f.g,{domain:["dataMin","dataMax"]}))),c.a.createElement(f.c,{type:"monotone",dataKey:"aVL",stroke:"#8884d8",dot:!1})),c.a.createElement(f.d,{width:1e3,height:250,data:this.props.leads,margin:{top:5,right:30,left:20,bottom:5}},c.a.createElement(f.f,{dataKey:"Time"}),c.a.createElement(f.e,null),c.a.createElement(f.g,{domain:["dataMin","dataMax"]}),c.a.createElement(f.b,null),c.a.createElement(f.a,{dataKey:"I",height:30,stroke:"#8884d8",onChange:function(t){return e.updateBrush(t)},startIndex:this.state.startIndex,endIndex:this.state.endIndex,tick:!0},c.a.createElement(f.d,{data:this.props.leads},c.a.createElement(f.c,{type:"monotone",dataKey:"aVR",dot:!1}),c.a.createElement(f.g,{domain:["dataMin","dataMax"]}))),c.a.createElement(f.c,{type:"monotone",dataKey:"aVR",stroke:"#8884d8",dot:!1})),c.a.createElement(f.d,{width:1e3,height:250,data:this.props.leads,margin:{top:5,right:30,left:20,bottom:5}},c.a.createElement(f.f,{dataKey:"Time"}),c.a.createElement(f.e,null),c.a.createElement(f.g,{domain:["dataMin","dataMax"]}),c.a.createElement(f.b,null),c.a.createElement(f.a,{dataKey:"I",height:30,stroke:"#8884d8",onChange:function(t){return e.updateBrush(t)},startIndex:this.state.startIndex,endIndex:this.state.endIndex,tick:!0},c.a.createElement(f.d,{data:this.props.leads},c.a.createElement(f.c,{type:"monotone",dataKey:"V1",dot:!1}),c.a.createElement(f.g,{domain:["dataMin","dataMax"]}))),c.a.createElement(f.c,{type:"monotone",dataKey:"V1",stroke:"#8884d8",dot:!1})),c.a.createElement(f.d,{width:1e3,height:250,data:this.props.leads,margin:{top:5,right:30,left:20,bottom:5}},c.a.createElement(f.f,{dataKey:"Time"}),c.a.createElement(f.e,null),c.a.createElement(f.g,{domain:["dataMin","dataMax"]}),c.a.createElement(f.b,null),c.a.createElement(f.a,{dataKey:"I",height:30,stroke:"#8884d8",onChange:function(t){return e.updateBrush(t)},startIndex:this.state.startIndex,endIndex:this.state.endIndex,tick:!0},c.a.createElement(f.d,{data:this.props.leads},c.a.createElement(f.c,{type:"monotone",dataKey:"V2",dot:!1}),c.a.createElement(f.g,{domain:["dataMin","dataMax"]}))),c.a.createElement(f.c,{type:"monotone",dataKey:"V2",stroke:"#8884d8",dot:!1})),c.a.createElement(f.d,{width:1e3,height:250,data:this.props.leads,margin:{top:5,right:30,left:20,bottom:5}},c.a.createElement(f.f,{dataKey:"Time"}),c.a.createElement(f.e,null),c.a.createElement(f.g,{domain:["dataMin","dataMax"]}),c.a.createElement(f.b,null),c.a.createElement(f.a,{dataKey:"I",height:30,stroke:"#8884d8",onChange:function(t){return e.updateBrush(t)},startIndex:this.state.startIndex,endIndex:this.state.endIndex,tick:!0},c.a.createElement(f.d,{data:this.props.leads},c.a.createElement(f.c,{type:"monotone",dataKey:"V3",dot:!1}),c.a.createElement(f.g,{domain:["dataMin","dataMax"]}))),c.a.createElement(f.c,{type:"monotone",dataKey:"V3",stroke:"#8884d8",dot:!1})),c.a.createElement(f.d,{width:1e3,height:250,data:this.props.leads,margin:{top:5,right:30,left:20,bottom:5}},c.a.createElement(f.f,{dataKey:"Time"}),c.a.createElement(f.e,null),c.a.createElement(f.g,{domain:["dataMin","dataMax"]}),c.a.createElement(f.b,null),c.a.createElement(f.a,{dataKey:"I",height:30,stroke:"#8884d8",onChange:function(t){return e.updateBrush(t)},startIndex:this.state.startIndex,endIndex:this.state.endIndex,tick:!0},c.a.createElement(f.d,{data:this.props.leads},c.a.createElement(f.g,{domain:["dataMin","dataMax"]}),c.a.createElement(f.c,{type:"monotone",dataKey:"V4",dot:!1}))),c.a.createElement(f.c,{type:"monotone",dataKey:"V4",stroke:"#8884d8",dot:!1})),c.a.createElement(f.d,{width:1e3,height:250,data:this.props.leads,margin:{top:5,right:30,left:20,bottom:5}},c.a.createElement(f.f,{dataKey:"Time"}),c.a.createElement(f.e,null),c.a.createElement(f.g,{domain:["dataMin","dataMax"]}),c.a.createElement(f.b,null),c.a.createElement(f.a,{dataKey:"I",height:30,stroke:"#8884d8",onChange:function(t){return e.updateBrush(t)},startIndex:this.state.startIndex,endIndex:this.state.endIndex,tick:!0},c.a.createElement(f.d,{data:this.props.leads},c.a.createElement(f.c,{type:"monotone",dataKey:"V5",dot:!1}),c.a.createElement(f.g,{domain:["dataMin","dataMax"]}))),c.a.createElement(f.c,{type:"monotone",dataKey:"V5",stroke:"#8884d8",dot:!1})),c.a.createElement(f.d,{width:1e3,height:250,data:this.props.leads,margin:{top:5,right:30,left:20,bottom:5}},c.a.createElement(f.f,{dataKey:"Time"}),c.a.createElement(f.e,null),c.a.createElement(f.g,{domain:["dataMin","dataMax"]}),c.a.createElement(f.b,null),c.a.createElement(f.a,{dataKey:"I",height:30,stroke:"#8884d8",onChange:function(t){return e.updateBrush(t)},startIndex:this.state.startIndex,endIndex:this.state.endIndex,tick:!0},c.a.createElement(f.d,{data:this.props.leads},c.a.createElement(f.c,{type:"monotone",dataKey:"V6",dot:!1}),c.a.createElement(f.g,{domain:["dataMin","dataMax"]}))),c.a.createElement(f.c,{type:"monotone",dataKey:"V6",stroke:"#8884d8",dot:!1,isAnimationActive:!0})))))))}}]),t}(o.Component);t.default=Object(k.d)(Object(y.b)(function(e){return console.log(e),{leads:e.lead.leads,patient:e.firestore.ordered.patients,profile:e.firebase.profile}},function(e){return{handleLeadsStorage:function(t){return e((a=t,function(e,t,n){var r=(0,n.getFirebase)(),d=a+".txt",l=[],i=[];r.storage().ref().child(d).getDownloadURL().then(function(e){return fetch(e).then(function(e){return e.text()}).then(function(e){return e}).then(function(e){return i=e.split("\n")})}).then(function(e){for(var t=e.length,a=0;a<t;a++)if(a%10===0)switch(i[a].charAt(1)){case"A":l.push({I:i[a].slice(2)});break;case"B":l.push({II:i[a].slice(2)});break;case"C":l.push({III:i[a].slice(2)});break;case"D":l.push({aVL:i[a].slice(2)});break;case"E":l.push({aVR:i[a].slice(2)});break;case"F":l.push({aVF:i[a].slice(2)});break;case"G":l.push({V1:i[a].slice(2)});break;case"H":l.push({V2:i[a].slice(2)});break;case"I":l.push({V3:i[a].slice(2)});break;case"J":l.push({V4:i[a].slice(2)});break;case"K":l.push({V5:i[a].slice(2)});break;case"L":l.push({V6:i[a].slice(2)})}}).then(function(t){e({type:"HANDLELEADSTORAGE_SUCCESS",ekg:l})}).catch(function(t){e({type:"HANDLELEAD_FAILED",err:t})})}));var a},onUnload:function(){return e({type:"UNLOADED"})},pinnedStatus:function(t){return e(function(e){return function(t,a,n){var r=(0,n.getFirestore)();console.log(e.pinned),!0===e.pinned?r.collection("patients").doc(e.id).update({pinned:!0}).then(function(){t({type:"CHANGE_PIN_STATUS"})}).catch(function(e){t({type:"CHANGE_PIN_FAILED",err:e})}):r.collection("patients").doc(e.id).update({pinned:!1}).then(function(){t({type:"CHANGE_PIN_STATUS"})}).catch(function(e){t({type:"CHANGE_PIN_FAILED",err:e})})}}(t))}}}),Object(x.firestoreConnect)([{collection:"patients"}]))(b)}}]);
//# sourceMappingURL=21.cb00879c.chunk.js.map